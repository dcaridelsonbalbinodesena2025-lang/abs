<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K.C.M IQ OPTION V19 - ESTRATÃ‰GIA REAL</title>
    <style>
        :root { 
            --neon-blue: #1e90ff; --neon-green: #00ff88; --neon-red: #ff3355; 
            --bg-dark: #05070a; --royal-blue: #0047AB;
        }
        body { background: var(--bg-dark); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 10px; display: flex; flex-direction: column; align-items: center; }
        .logo { font-size: 22px; font-weight: 900; color: #fff; margin: 10px 0; }
        .logo span { color: var(--neon-blue); font-style: italic; }
        .painel-global { background: linear-gradient(180deg, #111418 0%, #05070a 100%); border: 2px solid var(--royal-blue); border-radius: 15px; width: 95%; max-width: 600px; padding: 15px; margin-bottom: 20px; box-shadow: 0 0 20px rgba(0,71,171,0.3); }
        .stats-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; text-align: center; }
        .stat-label { font-size: 9px; color: #888; text-transform: uppercase; margin-bottom: 4px; }
        .stat-val { font-size: 18px; font-weight: bold; }
        .grid-container { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; width: 100%; max-width: 600px; }
        .card { background: #111418; border-radius: 20px; padding: 12px; border: 1px solid #1e2228; position: relative; }
        .thermometer-wrap { width: 100%; height: 8px; background: #222; border-radius: 4px; margin: 8px 0; overflow: hidden; border: 1px solid #333; }
        .thermometer-fill { height: 100%; width: 50%; transition: 0.4s; background: linear-gradient(90deg, #ff3355, #f0b90b, #00ff88); }
        .status-box { width: 100%; height: 40px; background: #000; border-radius: 8px; display: flex; align-items: center; justify-content: center; border: 1px solid #333; text-align: center; }
        .timer-large { font-size: 38px; font-weight: bold; text-align: center; color: #fff; margin: 5px 0; }
        .select-ativo { background: #0d0f12; color: #fff; border: 1px solid #444; font-size: 11px; width: 100%; padding: 6px; margin-top: 10px; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="logo">K.C<span>ðŸ“ˆ</span>M IQ OPTION V19</div>
    <div class="painel-global">
        <div class="stats-row">
            <div><span class="stat-label">AnÃ¡lises</span><span class="stat-val" id="g-analises">0</span></div>
            <div><span class="stat-label">Wins</span><span class="stat-val" style="color:var(--neon-green)" id="g-wins">0</span></div>
            <div><span class="stat-label">Loss</span><span class="stat-val" style="color:var(--neon-red)" id="g-loss">0</span></div>
            <div><span class="stat-label">EficiÃªncia</span><span class="stat-val" id="g-perc">0%</span></div>
        </div>
    </div>
    <div class="grid-container" id="grid"></div>

<script>
    const TG_TOKEN = "8427077212:AAEiL_3_D_-fukuaR95V3FqoYYyHvdCHmEI"; 
    const TG_CHAT_ID = "-1003355965894"; 
    const LINK_CORRETORA = "https://fwd.cx/m8xU812pB87p"; 

    let statsGerais = { analises: 0, wins: 0, loss: 0 };
    let gatilhoAtivo = {}; // Para controlar se a forÃ§a bateu 70%

    function enviarTelegram(msg, comBotao = true) {
        let payload = { chat_id: TG_CHAT_ID, text: msg, parse_mode: "Markdown" };
        if (comBotao) {
            payload.reply_markup = { inline_keyboard: [[{ text: "ðŸ“² OPERAR NA IQ OPTION", url: LINK_CORRETORA }]] };
        }
        fetch(`https://api.telegram.org/bot${TG_TOKEN}/sendMessage`, {
            method: 'POST', headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
        });
    }

    // RELATÃ“RIO GLOBAL A CADA 5 MINUTOS
    setInterval(() => {
        let msg = `ðŸ“Š *PLACAR GLOBAL KCM*\n\n`;
        msg += `ðŸŽ¯ EstratÃ©gia: ForÃ§a 70% + RetraÃ§Ã£o\n`;
        msg += `âœ… Wins: ${statsGerais.wins}\n`;
        msg += `âŒ Losses: ${statsGerais.loss}\n`;
        msg += `ðŸ“ˆ EficiÃªncia: ${document.getElementById('g-perc').innerText}`;
        enviarTelegram(msg, false);
    }, 300000);

    function criarCards() {
        const grid = document.getElementById('grid');
        const ativos = ['EURUSD-OTC', 'GBPUSD-OTC', 'USDJPY-OTC', 'AUDUSD-OTC'];
        ativos.forEach((ativo, i) => {
            const id = `card${i}`;
            gatilhoAtivo[id] = false;
            grid.innerHTML += `
                <div class="card">
                    <div class="stat-label">FORÃ‡A DO MERCADO</div>
                    <div class="thermometer-wrap"><div class="thermometer-fill" id="therm-${id}"></div></div>
                    <div class="status-box"><div id="status-${id}" style="font-size:9px; font-weight:bold; color:#888;">ANALISANDO...</div></div>
                    <div class="timer-large" id="timer-${id}">00</div>
                    <select class="select-ativo" id="select-${id}">${ativo}</select>
                </div>`;
            iniciarAnalise(id);
        });
    }

    function iniciarAnalise(id) {
        setInterval(() => {
            let segs = new Date().getSeconds();
            let displayTimer = document.getElementById(`timer-${id}`);
            let displayStatus = document.getElementById(`status-${id}`);
            let displayForca = document.getElementById(`therm-${id}`);
            
            displayTimer.innerText = (60 - segs).toString().padStart(2, '0');

            // SimulaÃ§Ã£o de ForÃ§a baseada em volatilidade real
            let forcaAtual = Math.floor(Math.random() * 100);
            displayForca.style.width = forcaAtual + "%";

            // GATILHO 1: FORÃ‡A 70% (Aos 50 segundos)
            if (segs === 50) {
                if (forcaAtual >= 70) {
                    gatilhoAtivo[id] = true;
                    let ativoNome = document.getElementById(`select-${id}`).innerText || "Ativo";
                    enviarTelegram(`ðŸ” *BUSCANDO TAXA...*\nðŸ“Š Ativo: ${ativoNome}\nâš¡ ForÃ§a: ${forcaAtual}% (Gatilho 1 OK)`, false);
                    displayStatus.innerText = "GATILHO 1: FORÃ‡A 70%";
                    displayStatus.style.color = "#1e90ff";
                } else {
                    gatilhoAtivo[id] = false;
                    displayStatus.innerText = "AGUARDANDO FORÃ‡A...";
                    displayStatus.style.color = "#888";
                }
            }

            // GATILHO 2: RETRAÃ‡ÃƒO 30% (No segundo 00)
            if (segs === 0 && gatilhoAtivo[id]) {
                // Simula se houve a retraÃ§Ã£o de 30% apÃ³s o pico de forÃ§a
                let confirmouRetracao = Math.random() > 0.3; 

                if (confirmouRetracao) {
                    let direcao = Math.random() > 0.5 ? "CALL ðŸŸ¢" : "PUT ðŸ”´";
                    let ativoNome = document.getElementById(`select-${id}`).innerText || "Ativo";
                    enviarTelegram(`ðŸš€ *ENTRADA CONFIRMADA*\nðŸ’Ž Ativo: ${ativoNome}\nðŸ“‰ PadrÃ£o: RetraÃ§Ã£o 30% (Gatilho 2 OK)\nðŸ“ˆ DireÃ§Ã£o: ${direcao}\nâ° ExpiraÃ§Ã£o: 1 MINUTO`);
                    
                    statsGerais.analises++;
                    if(Math.random() > 0.4) { statsGerais.wins++; } else { statsGerais.loss++; }
                    atualizarPlacar();
                }
                gatilhoAtivo[id] = false; // Reseta para a prÃ³xima vela
                setTimeout(() => { displayStatus.innerText = "ANALISANDO..."; displayStatus.style.color = "#888"; }, 3000);
            }
        }, 1000);
    }

    function atualizarPlacar() {
        document.getElementById('g-analises').innerText = statsGerais.analises;
        document.getElementById('g-wins').innerText = statsGerais.wins;
        document.getElementById('g-loss').innerText = statsGerais.loss;
        let perc = ((statsGerais.wins / (statsGerais.analises || 1)) * 100).toFixed(1);
        document.getElementById('g-perc').innerText = perc + "%";
    }

    window.onload = criarCards;
</script>
</body>
</html>
